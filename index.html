<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Static JS Chatbot</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f2f2f2;
            padding: 40px;
        }
        .chat-box {
            max-width: 600px;
            margin: auto;
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0px 4px 8px rgba(0,0,0,0.1);
        }
        #chatArea {
            max-height: 400px;
            overflow-y: auto;
            border: 1px solid #ddd;
            padding: 10px;
            border-radius: 6px;
            background: #fafafa;
            margin-bottom: 15px;
        }
        .message {
            margin: 10px 0;
        }
        .user {
            color: blue;
        }
        .bot {
            color: green;
        }
        input[type="text"] {
            width: 80%;
            padding: 10px;
            font-size: 16px;
            border-radius: 6px;
            border: 1px solid #ccc;
        }
        input[type="submit"], .quick-button {
            padding: 10px 15px;
            font-size: 16px;
            margin-top: 10px;
            margin-right: 5px;
            cursor: pointer;
            border-radius: 6px;
            border: none;
            background-color: #28a745;
            color: white;
        }
        .quick-button {
            background-color: #007bff;
        }
        .quick-button:hover, input[type="submit"]:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <div class="chat-box">
        <h2>ü§ñ Static JavaScript Chatbot</h2>

        <div id="chatArea"></div>

        <form id="chatForm">
            <input type="text" id="messageInput" placeholder="Type your message..." required />
            <input type="submit" value="Send" />
        </form>

        <div>
            <button class="quick-button" onclick="sendQuick('Tell me a joke')">üÉè Joke</button>
            <button class="quick-button" onclick="sendQuick('Flip a coin')">ü™ô Flip Coin</button>
            <button class="quick-button" onclick="sendQuick('Roll a dice')">üé≤ Roll Dice</button>
            <button class="quick-button" onclick="sendQuick('Help')">‚ùì Help</button>
        </div>
    </div>

    <script>
        const chatArea = document.getElementById("chatArea");
        const chatForm = document.getElementById("chatForm");
        const messageInput = document.getElementById("messageInput");

        let userName = localStorage.getItem("chat_user_name") || null;

        const jokes = [
            "Why don‚Äôt scientists trust atoms? Because they make up everything!",
            "Why did the math book look sad? Because it had too many problems.",
            "Why did the scarecrow win an award? Because he was outstanding in his field!",
            "I'm reading a book on anti-gravity. It's impossible to put down!"
        ];

        const facts = [
            "Honey never spoils. Archaeologists found 3000-year-old honey in Egyptian tombs.",
            "Octopuses have three hearts.",
            "Bananas are berries, but strawberries aren't.",
            "Your heart beats over 100,000 times a day."
        ];

        function getTimeStamp() {
            return new Date().toLocaleTimeString();
        }

        function appendMessage(sender, text) {
            const msg = document.createElement("div");
            msg.className = "message " + (sender === "You" ? "user" : "bot");
            msg.innerHTML = `<strong>${sender} [${getTimeStamp()}]:</strong> ${text}`;
            chatArea.appendChild(msg);
            chatArea.scrollTop = chatArea.scrollHeight;
        }

        function sendQuick(text) {
            messageInput.value = text;
            chatForm.dispatchEvent(new Event('submit'));
        }

        function botReply(userInput) {
            const input = userInput.toLowerCase();

            if (["hi", "hello", "hey"].includes(input)) {
                return "Hey there! üëã What can I help you with?";
            }

            if (input.includes("how are you")) {
                return "I'm just a bunch of code, but thanks for asking!";
            }

            if (input.includes("joke")) {
                return jokes[Math.floor(Math.random() * jokes.length)];
            }

            if (input.includes("fact")) {
                return facts[Math.floor(Math.random() * facts.length)];
            }

            if (input.includes("flip a coin")) {
                return "It's " + (Math.random() < 0.5 ? "Heads" : "Tails") + "! ü™ô";
            }

            if (input.includes("roll a dice") || input.includes("roll a die")) {
                return "You rolled a " + (Math.floor(Math.random() * 6) + 1) + "! üé≤";
            }

            if (input.includes("date") || input.includes("today")) {
                return `Today is ${new Date().toLocaleDateString()}.`;
            }

            if (input.includes("time")) {
                return `The current time is ${new Date().toLocaleTimeString()}.`;
            }

            if (input.includes("my name is")) {
                const name = userInput.split("my name is")[1].trim().split(" ")[0];
                userName = name.charAt(0).toUpperCase() + name.slice(1);
                localStorage.setItem("chat_user_name", userName);
                return `Nice to meet you, ${userName}! I‚Äôll try to remember that.`;
            }

            if (input.includes("what's my name") || input.includes("what is my name")) {
                return userName ? `Your name is ${userName}!` : "I don't know your name yet. Say 'My name is ...'";
            }

            if (input.includes("help")) {
                return `I can help you with:\n‚Ä¢ Jokes ü§™\n‚Ä¢ Fun facts üß†\n‚Ä¢ Date/time üïí\n‚Ä¢ Flip coins / roll dice üé≤\n‚Ä¢ Name memory üë§`;
            }

            return "I'm still learning! ü§ñ Try asking me for a joke, fact, or say 'Help' for more ideas.";
        }

        chatForm.addEventListener("submit", (e) => {
            e.preventDefault();
            const userText = messageInput.value.trim();
            if (!userText) return;
            appendMessage("You", userText);
            const reply = botReply(userText);
            setTimeout(() => appendMessage("Bot", reply), 500);
            messageInput.value = "";
        });

        // Welcome message on load
        window.onload = () => {
            appendMessage("Bot", "Welcome! üëã Type 'help' to see what I can do.");
        };
    </script>
</body>
</html>